import{aJ as z,aK as _,a7 as A,aL as C,ak as I,U as L,aM as M,y as R,aN as E,aO as S,x as y,r as x,a as $}from"./index-9aa0448f.js";function w(e){var l;const n=E(e);return(l=n==null?void 0:n.$el)!=null?l:n}const h=M?window:void 0,j=M?window.document:void 0;function b(...e){let l,n,t,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,t,s]=e,l=h):[l,n,t,s]=e,!l)return _;Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]);const d=[],a=()=>{d.forEach(f=>f()),d.length=0},i=(f,p,r,o)=>(f.addEventListener(p,r,o),()=>f.removeEventListener(p,r,o)),c=R(()=>[w(l),E(s)],([f,p])=>{a(),f&&d.push(...n.flatMap(r=>t.map(o=>i(f,r,o,p))))},{immediate:!0,flush:"post"}),m=()=>{c(),a()};return S(m),m}let O=!1;function V(e,l,n={}){const{window:t=h,ignore:s=[],capture:d=!0,detectIframe:a=!1}=n;if(!t)return;z&&!O&&(O=!0,Array.from(t.document.body.children).forEach(r=>r.addEventListener("click",_)));let i=!0;const c=r=>s.some(o=>{if(typeof o=="string")return Array.from(t.document.querySelectorAll(o)).some(v=>v===r.target||r.composedPath().includes(v));{const v=w(o);return v&&(r.target===v||r.composedPath().includes(v))}}),f=[b(t,"click",r=>{const o=w(e);if(!(!o||o===r.target||r.composedPath().includes(o))){if(r.detail===0&&(i=!c(r)),!i){i=!0;return}l(r)}},{passive:!0,capture:d}),b(t,"pointerdown",r=>{const o=w(e);o&&(i=!r.composedPath().includes(o)&&!c(r))},{passive:!0}),a&&b(t,"blur",r=>{var o;const v=w(e);((o=t.document.activeElement)==null?void 0:o.tagName)==="IFRAME"&&!(v!=null&&v.contains(t.document.activeElement))&&l(r)})].filter(Boolean);return()=>f.forEach(r=>r())}function W(e){return typeof e=="function"?e:typeof e=="string"?l=>l.key===e:Array.isArray(e)?l=>e.includes(l.key):()=>!0}function H(...e){let l,n,t={};e.length===3?(l=e[0],n=e[1],t=e[2]):e.length===2?typeof e[1]=="object"?(l=!0,n=e[0],t=e[1]):(l=e[0],n=e[1]):(l=!0,n=e[0]);const{target:s=h,eventName:d="keydown",passive:a=!1,dedupe:i=!1}=t,c=W(l);return b(s,d,f=>{f.repeat&&E(i)||c(f)&&n(f)},a)}function J(e,l=null){const n=A();let t=()=>{};const s=C((d,a)=>(t=a,{get(){var i,c;return d(),(c=(i=n==null?void 0:n.proxy)==null?void 0:i.$refs[e])!=null?c:l},set(){}}));return I(t),L(t),s}function B(){const e=x(!1);return A()&&$(()=>{e.value=!0}),e}function P(e){const l=B();return y(()=>(l.value,!!e()))}var g=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,N=(e,l)=>{var n={};for(var t in e)D.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&g)for(var t of g(e))l.indexOf(t)<0&&K.call(e,t)&&(n[t]=e[t]);return n};function G(e,l,n={}){const t=n,{window:s=h}=t,d=N(t,["window"]);let a;const i=P(()=>s&&"ResizeObserver"in s),c=()=>{a&&(a.disconnect(),a=void 0)},m=y(()=>Array.isArray(e)?e.map(r=>w(r)):[w(e)]),f=R(m,r=>{if(c(),i.value&&s){a=new ResizeObserver(l);for(const o of r)o&&a.observe(o,d)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{c(),f()};return S(p),{isSupported:i,stop:p}}const k=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Q(e,l={}){const{document:n=j,autoExit:t=!1}=l,s=y(()=>{var u;return(u=w(e))!=null?u:n==null?void 0:n.querySelector("html")}),d=x(!1),a=y(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(u=>n&&u in n||s.value&&u in s.value)),i=y(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(u=>n&&u in n||s.value&&u in s.value)),c=y(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(u=>n&&u in n||s.value&&u in s.value)),m=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(u=>n&&u in n),f=P(()=>s.value&&n&&a.value!==void 0&&i.value!==void 0&&c.value!==void 0),p=()=>m?(n==null?void 0:n[m])===s.value:!1,r=()=>{if(c.value){if(n&&n[c.value]!=null)return n[c.value];{const u=s.value;if((u==null?void 0:u[c.value])!=null)return!!u[c.value]}}return!1};async function o(){if(f.value){if(i.value)if((n==null?void 0:n[i.value])!=null)await n[i.value]();else{const u=s.value;(u==null?void 0:u[i.value])!=null&&await u[i.value]()}d.value=!1}}async function v(){if(!f.value)return;r()&&await o();const u=s.value;a.value&&(u==null?void 0:u[a.value])!=null&&(await u[a.value](),d.value=!0)}async function q(){await(d.value?o():v())}const F=()=>{const u=r();(!u||u&&p())&&(d.value=u)};return b(n,k,F,!1),b(()=>w(s),k,F,!1),t&&S(o),{isSupported:f,isFullscreen:d,enter:v,exit:o,toggle:q}}export{Q as a,G as b,V as c,H as o,J as t,b as u};
