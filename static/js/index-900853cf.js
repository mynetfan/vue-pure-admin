import{useDept as A}from"./hook-d87d4051.js";import{R as F,D as N,P}from"./refresh-9cbf330b.js";import{u as c}from"./hooks-809c3f84.js";import{d as z}from"./edit-pen-37b5ced2.js";import{S as E}from"./search-4b9e88d3.js";import{A as I}from"./add-circle-line-438b436c.js";import{d as k,r as h,c as a,e as L,k as O,g as o,w as l,u as e,h as i}from"./index-74763ee8.js";import"./system-de9ae92f.js";import"./epTheme-7205adde.js";const j={class:"main"},q=k({name:"Dept"}),oe=k({...q,setup(G){const p=h(),u=h(),{form:r,loading:d,columns:y,dataList:v,onSearch:f,resetForm:C,handleUpdate:R,handleDelete:w,handleSelectionChange:x}=A();return(H,n)=>{var b;const V=a("el-input"),m=a("el-form-item"),_=a("el-option"),S=a("el-select"),s=a("el-button"),D=a("el-form"),T=a("el-popconfirm"),B=a("pure-table");return L(),O("div",j,[o(D,{ref_key:"formRef",ref:p,inline:!0,model:e(r),class:"bg-bg_color w-[99/100] pl-8 pt-4"},{default:l(()=>[o(m,{label:"部门名称：",prop:"user"},{default:l(()=>[o(V,{modelValue:e(r).user,"onUpdate:modelValue":n[0]||(n[0]=t=>e(r).user=t),placeholder:"请输入部门名称",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),o(m,{label:"状态：",prop:"status"},{default:l(()=>[o(S,{modelValue:e(r).status,"onUpdate:modelValue":n[1]||(n[1]=t=>e(r).status=t),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:l(()=>[o(_,{label:"开启",value:"1"}),o(_,{label:"关闭",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o(m,null,{default:l(()=>[o(s,{type:"primary",icon:e(c)(e(E)),loading:e(d),onClick:e(f)},{default:l(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(s,{icon:e(c)(e(F)),onClick:n[2]||(n[2]=t=>e(C)(p.value))},{default:l(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(P),{title:"部门列表",columns:e(y),tableRef:(b=u.value)==null?void 0:b.getTableRef(),onRefresh:e(f)},{buttons:l(()=>[o(s,{type:"primary",icon:e(c)(e(I))},{default:l(()=>[i(" 新增部门 ")]),_:1},8,["icon"])]),default:l(({size:t,dynamicColumns:U})=>[o(B,{ref_key:"tableRef",ref:u,border:"","align-whole":"center","row-key":"id",showOverflowTooltip:"","table-layout":"auto","default-expand-all":"",loading:e(d),size:t,data:e(v),columns:U,"header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onSelectionChange:e(x)},{operation:l(({row:g})=>[o(s,{class:"reset-margin",link:"",type:"primary",size:t,onClick:$=>e(R)(g),icon:e(c)(e(z))},{default:l(()=>[i(" 修改 ")]),_:2},1032,["size","onClick","icon"]),o(T,{title:"是否确认删除?"},{reference:l(()=>[o(s,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(c)(e(N)),onClick:$=>e(w)(g)},{default:l(()=>[i(" 删除 ")]),_:2},1032,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","header-cell-style","onSelectionChange"])]),_:1},8,["columns","tableRef","onRefresh"])])}}});export{oe as default};
